var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,r=(e,r)=>{for(var s in r||(r={}))a.call(r,s)&&l(e,s,r[s]);if(t)for(var s of t(r))n.call(r,s)&&l(e,s,r[s]);return e};import{r as s,R as c,u as i,F as o,a as m,b as u}from"./vendor.94b3b7c6.js";function d(e){return void 0===window.fig||void 0===window.fig.settings?null:window.fig.settings[e]}function p(e,t){const a=JSON.stringify(t);window.fig.private({type:"settings",data:{key:e,value:a}}),window.fig._settings[e]=t,window.fig.settings[e]=t}function g({title:e,description:t,settingName:a,details:n,default:l}){const r=`${a}-wrapper`,[i,o]=s.exports.useState((()=>{const e=d(a);return null!=e?Boolean(e):null!=l&&Boolean(l)}));return c.createElement("div",{id:r,className:"settingsItem checkbox",tabIndex:0,onKeyDown:e=>{var t;"Enter"===e.key&&(null==(t=document.activeElement)?void 0:t.id)===r&&(e.preventDefault(),o(!i))}},c.createElement("span",{className:"checkbox__title"},e),c.createElement("div",{className:"checkbox__controls"},c.createElement("label",{htmlFor:a,className:"checkbox__description"},c.createElement("input",{id:a,type:"checkbox",checked:i,onChange:e=>{o(e.target.checked),p(a,e.target.checked)},className:"checkbox__box"}),c.createElement("span",{className:"description"},t))),n&&c.createElement("p",{className:"control__details"},n))}const E=()=>{var e;return null!=(e=d("autocomplete.theme"))?e:"dark"},h=s.exports.createContext({theme:E(),setTheme:()=>{}}),v=()=>s.exports.useContext(h),f=({children:e})=>{const[t,a]=s.exports.useState(E());return s.exports.useEffect((()=>{a(E())}),[]),c.createElement(h.Provider,{value:{theme:t,setTheme:a}},e)};const N=e=>"string"==typeof e?e:e.name;function _({title:e,description:t,settingName:a,options:n,default:l,details:r}){v();const[i,o]=s.exports.useState((()=>{const e=d(a);return e||(l||"Please select a value")}));return c.createElement("div",{className:"settingsItem singleSelect"},c.createElement("span",{className:"singleSelect__title"},e),c.createElement("p",{className:"singleSelect__description"},t),c.createElement("div",{className:"singleSelect__controls"},c.createElement("select",{value:i,onChange:e=>{o(e.target.value),p(a,e.target.value)},tabIndex:0},c.createElement("option",{value:"Please select a value",disabled:!0},"Please select a value"),null==n?void 0:n.map((e=>c.createElement("option",{key:N(e)},N(e))))),c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c.createElement("polyline",{points:"6 9 12 15 18 9"}))),r&&c.createElement("p",{className:"control__details"},r))}function w({title:e,description:t,settingName:a,type:n,details:l,default:r}){const o="number"===n,[m,u]=s.exports.useState(r||(null!=(g=d(a))?g:""));var g;const E=i((e=>{p(a,e)}),1e3);return c.createElement("div",{className:"settingsItem text"},c.createElement("span",{className:"text__title"},e),c.createElement("p",{className:"text__description"},t),c.createElement("div",{className:"text__controls"},c.createElement("input",{tabIndex:0,type:o?"number":"text",value:m,onChange:e=>{let t=e.target.value;o&&(t=parseInt(null!=t?t:"",10),isNaN(t)||(t=Math.abs(t))),u(String(t)),E(t)},placeholder:e,spellCheck:!1})),l&&c.createElement("p",{className:"control__details"},l))}function b({title:e,description:t,settingName:a,details:n}){const[l,r]=s.exports.useState((()=>{const e=d(a);return e&&Array.isArray(e)?e.join(", "):""})),o=i((e=>{p(a,e.split(",").map((e=>e.trim())).filter(Boolean))}),1e3);return c.createElement("div",{className:"settingsItem multiSelect"},c.createElement("span",{className:"multiSelect__title"},e),c.createElement("p",{className:"multiSelect__description"},t),c.createElement("div",{className:"multiSelect__controls"},c.createElement("input",{tabIndex:0,type:"text",value:l,onChange:e=>{const t=e.target.value;r(t),o(t)},placeholder:e,spellCheck:!1})),n&&c.createElement("p",{className:"control__details"},n))}function y({searchTerm:e,onSearch:t}){return c.createElement("div",{className:"searchBar"},c.createElement("div",{className:"searchWrapper"},c.createElement("div",{className:"searchInnerWrapper"},c.createElement("input",{className:"searchBar__input",type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Search settings",spellCheck:!1,autoFocus:!0}),c.createElement("svg",{className:"searchBar__icon",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c.createElement("circle",{cx:"11",cy:"11",r:"8"}),c.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})))))}function k({sectionRef:e,settings:t,categoryLength:a}){const n=(t,a)=>{t.preventDefault(),e.current[a]&&e.current[a].scrollIntoView({behavior:"smooth",block:"start"})},[l,r]=s.exports.useState(!1),[i,u]=s.exports.useState(!1),[d,p]=s.exports.useState(!1),[g,E]=s.exports.useState(!1),[h,v]=s.exports.useState(!1);return c.createElement("div",null,a>0&&c.createElement("div",{className:"Sidebar"},c.createElement("a",{href:"#",className:"head"},"Headings"),c.createElement("a",{href:"Autocomplete",onClick:e=>{l?e.preventDefault():n(e,"autocomplete"),r(!l)}},c.createElement("span",{className:"iconFi"},l?c.createElement(o,null):c.createElement(m,null)),c.createElement("span",{className:"Sidebar__headings"}," Autocomplete")),l&&c.createElement("div",{className:"Sidebar__subheadings"},null==t?void 0:t.map((e=>{if("Autocomplete"==e.category)return c.createElement("a",{key:e.settingName,href:"#",onClick:t=>n(t,e.settingName)},e.title)}))),c.createElement("a",{href:"Appearance",onClick:e=>{i?e.preventDefault():n(e,"Appearance"),u(!i)}},c.createElement("span",null," ",i?c.createElement(o,null):c.createElement(m,null)," "),c.createElement("span",{className:"Sidebar__headings"},"Appearance")),i&&c.createElement("div",{className:"Sidebar__subheadings"},null==t?void 0:t.map((e=>{if("Appearance"==e.category)return c.createElement("a",{key:e.settingName,href:"#",onClick:t=>n(t,e.settingName)},e.title)}))),c.createElement("a",{href:"Pseudoterminal",onClick:e=>{d?e.preventDefault():n(e,"Pseudoterminal"),p(!d)}},c.createElement("span",null,d?c.createElement(o,null):c.createElement(m,null)," "),c.createElement("span",{className:"Sidebar__headings"},"Pseudoterminal")),d&&c.createElement("div",{className:"Sidebar__subheadings"},null==t?void 0:t.map((e=>{if("Pseudoterminal"==e.category)return c.createElement("a",{key:e.settingName,href:"#",onClick:t=>n(t,e.settingName)},e.title)}))),c.createElement("a",{href:"Application",onClick:e=>{g?e.preventDefault():n(e,"Application"),E(!g)}},c.createElement("span",null,g?c.createElement(o,null):c.createElement(m,null)," "),c.createElement("span",{className:"Sidebar__headings"},"Application")),g&&c.createElement("div",{className:"Sidebar__subheadings"},null==t?void 0:t.map((e=>{if("Application"==e.category)return c.createElement("a",{key:e.settingName,href:"#",onClick:t=>n(t,e.settingName)},e.title)}))),c.createElement("a",{href:"Integrations",onClick:e=>{g?e.preventDefault():n(e,"Integrations"),v(!h)}},c.createElement("span",null,h?c.createElement(o,null):c.createElement(m,null)," "),c.createElement("span",{className:"Sidebar__headings"},"Integrations")),h&&c.createElement("div",{className:"Sidebar__subheadings"},null==t?void 0:t.map((e=>{if("Integrations"==e.category)return c.createElement("a",{key:e.settingName,href:"#",onClick:t=>n(t,e.settingName)},e.title)})))),0==a&&c.createElement("h3",{className:"notFound"},"No settings found."))}function x({settings:e}){let t=s.exports.useRef({});const[a,n]=s.exports.useState(""),l=function({searchTerm:e,settings:t}){return s.exports.useMemo((()=>{const a=null==e?void 0:e.toLowerCase();return function(e){const t=[];return e.forEach((e=>{const a=e.category,n=t.findIndex((e=>e.some((e=>e.category==a))));-1!==n?t[n].push(e):t.push([e])})),t}((null!=t?t:[]).filter((e=>{var t;return""===a||e.settingName.toLowerCase().includes(a)||e.title.toLowerCase().includes(a)||e.description.toLowerCase().includes(a)||(null==(t=e.options)?void 0:t.some((e=>"string"==typeof e?e.toLowerCase().includes(a):e.name.toLowerCase().includes(a))))})))}),[t,e])}({settings:e,searchTerm:a});return c.createElement("div",null,c.createElement(y,{searchTerm:a,onSearch:n}),c.createElement("div",{className:"generalPage"},c.createElement("div",{className:"left_sidebar"},c.createElement(k,{sectionRef:t,settings:e,categoryLength:l.length})),c.createElement("div",{className:"right_content"},null==l?void 0:l.map((e=>c.createElement("section",{className:"category",key:e[0].settingName},c.createElement("h1",{className:"category__title",id:e[0].category,ref:a=>t.current[e[0].category]=a},e[0].category),c.createElement("div",{className:"category__rest"},e.map((e=>c.createElement("div",{className:"category__total",key:e.settingName},c.createElement("div",{key:e.settingName,id:e.settingName,className:"category__entry",ref:a=>t.current[e.settingName]=a},function(e){switch(e.type){case"boolean":return c.createElement("div",{className:"line-height-1-2 setting-render"},c.createElement(g,r({},e)));case"single_select":return c.createElement("div",{className:"line-height-1-2 setting-render"},c.createElement(_,r({},e)));case"multiselect":return c.createElement("div",{className:"line-height-1-2 setting-render"},c.createElement(b,r({},e)));case"number":case"text":return c.createElement("div",{className:"line-height-1-2 setting-render"},c.createElement(w,r({},e)));default:return null}}(e))))))))))))}const S=({href:e,children:t})=>c.createElement("button",{className:"link",role:"link",onClick:()=>{window.fig.open(e)}},t);function C(){return c.createElement("section",{className:"about"},c.createElement("img",{src:"./logo-big.png",width:"100px",height:"100px",className:"about__logo"}),c.createElement("section",{className:"about__description"},c.createElement("h2",null,"Fig"),c.createElement("div",{className:"about__info"},c.createElement("p",null,"Version ",window.fig.appversion),c.createElement("p",null,"Copyright Â© 2021 Hercules Labs Inc.")),c.createElement("div",{className:"about__grid"},c.createElement("dt",null,"Website"),c.createElement("dd",null,c.createElement(S,{href:"https://fig.io"},"fig.io")),c.createElement("dt",null,"Support"),c.createElement("dd",null,c.createElement(S,{href:"https://fig.io/support"},"fig.io/support")),c.createElement("dt",null,"Github"),c.createElement("dd",null,c.createElement(S,{href:"https://github.com/withfig/autocomplete"},"github.com/withfig/autocomplete")),c.createElement("dt",null,"Email"),c.createElement("dd",null,c.createElement(S,{href:"mailto:hello@fig.io"},"hello@fig.io"))),c.createElement("section",{className:"about__dangerZone"},c.createElement("h3",null,"Danger Zone"),c.createElement("div",{role:"button",onClick:()=>{window.fig.private({type:"uninstall",data:{}})}},"Uninstall"))))}function I({currentPage:e,setCurrentPage:t}){const{theme:a}=v();return c.createElement("nav",{className:"settingsNav"},c.createElement("div",{className:"wrapper"},L.map((n=>c.createElement("div",{role:"button",key:n,onClick:()=>t(n),className:"settingsNav__button "+(e===n?"active":"")},function(e,t){switch(e){case"General":return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c.createElement("circle",{cx:"12",cy:"12",r:"3"}),c.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}));case"About":return c.createElement("img",{src:"light"===t?"./fig.png":"./fig-light.png",height:16,width:16})}}(n,a),c.createElement("span",{className:"settingsNav__title"},n))))))}const L=["General","About"];function A(){const[e,t]=s.exports.useState(),[a,n]=s.exports.useState("General"),{theme:l}=v();s.exports.useEffect((()=>{const e=e=>{if(e.metaKey){const t=parseInt(e.key,10)-1;void 0!==L[t]&&(e.preventDefault(),n(L[t]))}};return window.addEventListener("keypress",e),()=>{window.removeEventListener("keypress",e)}}),[]),s.exports.useEffect((()=>{const e=async()=>{if(!0===window.__isFigInited__){const e=await new Promise((e=>{window.fig.fread("~/.fig/tools/all-settings.json",(t=>{const a=JSON.parse(t);e(a)}))}));t(e)}};return e(),window.addEventListener("FIG_INIT_INTERNAL",e),()=>{window.removeEventListener("FIG_INIT_INTERNAL",e)}}),[]);const r=s.exports.useMemo((()=>{switch(a){case"General":return c.createElement(x,{settings:e});case"About":return c.createElement(C,null)}}),[a,e]);return c.createElement("div",{className:"app","data-theme":l},c.createElement(I,{currentPage:a,setCurrentPage:n}),c.createElement("div",{className:"content"},r))}u.render(c.createElement(c.StrictMode,null,c.createElement(f,null,c.createElement(A,null))),document.getElementById("root"));
